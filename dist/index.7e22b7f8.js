const e=async()=>{try{let e=await fetch("https://api.themoviedb.org/3/movie/popular?api_key=21ec068df2a5c774ca7f82bbda35c458&page=1");if(!e.ok)throw Error(`${e.status}. Something went wrong!`);let t=await e.json();return console.log(t.results),t.results}catch(e){console.error(e)}},t=e=>{let t=JSON.parse(localStorage.getItem("favorites"))||[];t.push(e),localStorage.setItem("favorites",JSON.stringify(t))},l=e=>{let t=JSON.parse(localStorage.getItem("favorites"))||[],l=t.findIndex(t=>t.id===e.id);t.splice(l,1),localStorage.setItem("favorites",JSON.stringify(t))},o=e=>{let o=document.getElementById("cards"),a=document.createElement("div");a.className="relative inline-block w-64 h-auto m-4";let s=document.createElement("img");s.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,s.className="w-full rounded-lg shadow-md";let r=document.createElement("div");r.className="absolute bottom-0 from-white container px-4 py-2 bg-gray-500 bg-opacity-80";let n=`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" class="absolute top-2 right-2 w-6 h-6 cursor-pointer">
      <path stroke-linecap="round" stroke-linejoin="round" d="M11.998 20.663l-.13-.121c-4.055-3.765-6.75-6.274-6.75-8.97a4.5 4.5 0 018.648-1.88 4.5 4.5 0 018.652 1.88c0 2.696-2.695 5.205-6.75 8.97l-.13.12a.75.75 0 01-1.06 0z" />
    </svg>
  `,i=document.createElement("div");i.className="absolute top-2 right-2",i.innerHTML=n;let d=i.querySelector("svg"),c=document.createElement("h2");c.className="text-white text-xl",c.textContent=e.title;let m=document.createElement("p");m.className="text-white text-xl",m.textContent=e.release_date;let g=document.createElement("p");g.className="text-white text-xl bg-gray-500 bg-opacity-50 px-1 py-1 w-fit rounded-[5px]",g.textContent=e.original_language;let p=JSON.parse(localStorage.getItem("favorites"))||[];p.some(t=>t.id===e.id)?d.classList.add("fill-red-400"):d.classList.add("fill-white"),i.addEventListener("click",o=>{(p=JSON.parse(localStorage.getItem("favorites"))||[]).some(t=>t.id===e.id)?(d.classList.remove("fill-red-400"),d.classList.add("fill-white"),l(e)):(d.classList.remove("fill-white"),d.classList.add("fill-red-400"),t(e)),p=JSON.parse(localStorage.getItem("favorites"))||[]}),a.appendChild(s),r.appendChild(c),r.appendChild(m),r.appendChild(g),a.appendChild(r),a.appendChild(i),o.appendChild(a)};!async function(){let t=await e(),l=document.getElementById("searchForm"),a=document.getElementById("searchInput");t.forEach(e=>{o(e)}),l.addEventListener("submit",e=>{e.preventDefault();let l=a.value.trim().toLowerCase(),s=document.getElementById("cards"),r=document.getElementById("cardsHeader");if(s.innerHTML="",""===l)r.textContent="Popular movies",r.style.display="block",t.forEach(e=>{o(e)});else{let e=t.filter(e=>e.title&&e.title.toLowerCase().includes(l)||e.overview&&e.overview.toLowerCase().includes(l));0===e.length?(r.textContent="No matches found",r.style.display="block"):(r.textContent="Search results",r.style.display="block",e.forEach(e=>{o(e)}))}a.value=""})}();const a=document.getElementById("themeToggle"),s=document.getElementById("themeIcon"),r=document.body;function n(e){"dark"===e?(r.classList.add("dark"),s.textContent="\uD83C\uDF19",localStorage.setItem("theme","dark")):(r.classList.remove("dark"),s.textContent="☀️",localStorage.setItem("theme","light"))}const i=localStorage.getItem("theme");i?n(i):n("light"),a.addEventListener("click",()=>{"dark"===localStorage.getItem("theme")?n("light"):n("dark")}),window.addEventListener("scroll",()=>{let e=window.scrollY;console.log("Saved Scroll:",e),localStorage.setItem("scrollPosition",e)}),window.addEventListener("load",()=>{let e=localStorage.getItem("scrollPosition");console.log("Saved Scroll:",e),null!==e&&setTimeout(()=>{window.scrollTo(0,parseInt(e,10))},100)});
//# sourceMappingURL=index.7e22b7f8.js.map
